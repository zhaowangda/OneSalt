 <html>
 <head>

  <script src="http://192.168.1.5:8000/static/jquery/jquery-3.3.1.min.js" type="text/javascript" > </script>
 </head>
<body>
<table>
                        <tr>
                          <th>所属数据中心</th>
                          <td>
                            <select name="dtName" id="id_datacenter">
                              <option value="5"> 杭州联通1</option> 
                              <option value="6"> 上海移动</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <th>所属机房</th>
                          <td>
                            <select id="id_machineroom" name="machineroom">
                              <option selected="selected">请选择</option>
                            </select>
                          </td>
                        </tr>
</table>                            
</body>
 <script type="text/javascript">
        $('#id_datacenter').change(function(){
            var id = $('#id_datacenter').val();

            $.getJSON("getmachineroomsfromdatacenterid/?id="+id, function(data,textStatus){
              var content='';
              $.each(data, function(key, value){
                content+='<option value='+ key +'>'+ value +'</option>';
              });
            $('#id_machineroom').html(content)
            });
                        });
    </script>
</html>
